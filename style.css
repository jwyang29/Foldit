:root {
    --primary: #FF4015;
    --orange-v: #E66136;
    --brown-h: #A0452D;
    --thickness: 24px;
    --font-size: 120px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #fff; overflow: hidden; }

#landing { position: fixed; inset: 0; display: flex; justify-content: center; align-items: center; z-index: 2000; }
.landing-container { display: flex; align-items: center; position: relative; }
.bold-text { font-size: var(--font-size); font-weight: 900; letter-spacing: -3px; }
.bold-text.orange { color: var(--primary); }

#typing-container { max-width: 0; opacity: 0; overflow: hidden; white-space: nowrap; transition: 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
#typing-container.active { max-width: 600px; opacity: 1; margin: 0 35px; }
#typing-text { font-size: 28px; font-style: italic; color: #444; }

.scene {
    position: absolute; left: 56px; top: 6px;
    width: 70px; height: 100px; display: none;
    perspective: 1500px; /* 3D 깊이감 강화 */
    transform-style: preserve-3d;
}
.scene.visible { display: block; }

/* [핵심 수정] 가로 막대: 무조건 가장 뒤로 */
.bar-horizontal {
    position: absolute; top: 0; left: 0; 
    width: 68px; height: var(--thickness);
    background: var(--brown-h);
    z-index: 1;
    /* translateZ(-10px)를 사용하여 물리적 레이어를 최하단으로 고정 */
    transform: translateY(0) translateZ(-10px) !important;
    transition: none;
}

/* 세로 하단 기둥: 중간 레이어 */
.bar-vertical-bottom {
    position: absolute; top: 0; left: 22px;
    width: var(--thickness); height: 85px;
    background: var(--orange-v);
    z-index: 2;
    transform: translateZ(0px); /* 기준점 */
}

/* 세로 상단 조각: 가장 앞 레이어 */
.bar-vertical-top {
    position: absolute; bottom: calc(100% - var(--thickness)); left: 22px;
    width: var(--thickness); height: 55px;
    background: var(--orange-v);
    z-index: 3;
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 calc(100% - var(--thickness)));
    transform-origin: 0% calc(100% - var(--thickness));
    
    /* translateZ(10px)로 항상 가로막대보다 앞에 있도록 설정 */
    transform: rotate3d(1, 1, 0, 180deg) translateZ(10px);
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), height 1s 0.8s ease;
}

/* 펼쳐질 때와 발사될 때도 레이어(translateZ) 유지 */
.scene.active-t .bar-vertical-top {
    transform: rotate3d(1, 1, 0, 0deg) translateZ(10px);
}
.scene.launch .bar-vertical-top {
    height: 2500px;
    transform: rotate3d(1, 1, 0, 0deg) translateZ(10px);
}
